# BeatSight Development Roadmap

## üìç Current Status: Phase 1 ‚Äì Gameplay Polish & Hygiene

**Last Updated**: November 12, 2025

---

## üîÑ Pivot Focus (Web Learning Platform)

- Desktop app progress remains foundational, but the near-term investment shifts toward a browser-first learning surface informed by `docs/web_pivot_notes.md`.
- New documentation added on November 12, 2025:
  - `docs/web_mvp_prd.md` ‚Äì requirements for the web MVP and karma workflows.
  - `docs/web_compute_costs.md` ‚Äì GPU/CPU cost modeling for cloud inference.
  - `docs/web_ux_flows.md` ‚Äì intake, editor, and verification UX outlines.
- Phase planning below now reflects the web pivot while preserving desktop milestones already achieved.

---

## ‚úÖ Phase 0: Planning & Architecture (Complete)

**Duration**: Week 1  
**Status**: ‚úÖ Complete

### Completed Tasks
- [x] Project naming and branding (BeatSight)
- [x] Technology stack selection
- [x] Architecture design
- [x] File format specification (.bsm)
- [x] Documentation framework
- [x] Repository structure
- [x] License selection (MIT)

### Deliverables
- Complete architecture document
- Beatmap format specification
- Project README and documentation
- Development setup guide

---

## üöÄ Phase 1: MVP - Core Functionality

**Duration**: 3-4 months  
**Target**: Functional desktop app with local processing  
**Status**: üü¢ In Progress (Stage 1 polish, ~85% complete)

### Milestone 1.1: Desktop App Foundation ‚úÖ
**Status**: Complete

- [x] osu-framework project setup
- [x] Basic menu system
- [x] Data structures (Beatmap classes)
- [x] File I/O (loading/saving .bsm files)

### Milestone 1.2: Gameplay Implementation
**Status**: ‚úÖ Complete  
**Priority**: High

- [x] Gameplay screen layout
- [x] Falling notes visualization
  - [x] Note rendering pipeline
  - [x] Lane-based system (7 lanes)
  - [x] Approach duration + hit-line alignment
  - [x] Visual polish (particles, glow, combo milestones)
- [x] Audio playback integration
  - [x] Full mix playback
  - [ ] Drum stem isolation toggle
  - [x] Speed adjustment (0.25x - 2.0x)
  - [x] Metronome overlay (Practice mode)
- [x] Input handling
  - [x] Keyboard input (for testing)
  - [x] Timing windows (Perfect/Great/Good/Miss)
  - [x] Combo tracking
- [x] Scoring system
- [x] Live input calibration + scoring integration
  - [x] Accuracy calculation
  - [x] Score display
  - [x] Results screen
- [x] Lane view toggle (2D classic ‚Üî 3D runway)

**Time Estimate**: 4-6 weeks

### Milestone 1.3: AI Pipeline Integration
**Status**: üü° Partial (Basic pipeline complete)  
**Priority**: High

- [x] Demucs source separation
- [x] Basic onset detection
- [x] Heuristic drum classification
- [x] Beatmap file generation
- [ ] Improve classification accuracy
  - [ ] Collect training data
  - [ ] Train initial ML model
  - [ ] Integrate model into pipeline
- [ ] Performance optimization
  - [ ] GPU acceleration
  - [ ] Batch processing
  - [ ] Caching strategy

**Time Estimate**: 6-8 weeks

### Milestone 1.4: Beatmap Editor
**Status**: ÔøΩ Partial (playback skeleton online)  
**Priority**: Medium

- [x] Editor screen UI
- [x] Timeline view
  - [ ] Waveform visualization
  - [ ] Zoom and pan controls
  - [ ] Beat grid overlay
- [ ] Note editing
  - [ ] Placement tool
  - [ ] Selection and deletion
  - [ ] Drag to move
  - [ ] Copy/paste
- [x] Playback controls
  - [x] Play/pause
  - [x] Seek
  - [ ] Speed adjustment
  - [ ] Metronome
- [ ] Metadata editor
- [ ] Save/export functionality

**Time Estimate**: 6-8 weeks

### Phase 1 Success Criteria
- [x] Can process an audio file into a playable beatmap
- [x] Beatmap is playable with keyboard input
- [x] Scoring system works accurately
- [ ] Editor allows manual beatmap creation
- [x] Stable on Windows/Linux/macOS (desktop verified)
- [x] Documentation for users and developers (living docs, Stage 0 hygiene)

---

## üåê Phase 2: Web MVP & Community Platform

**Duration**: 3-4 months  
**Target**: Browser-first learning workflow with karma-gated verification  
**Status**: üî¥ Not Started (Planning captured in November 12 docs)

### Milestone 2.1: Intake & Fingerprinting
- [ ] Deploy Chromaprint/AcoustID fingerprint service (auto-scaling CPU tier)
- [ ] Metadata resolution with manual override UI
- [ ] Canonical song entity in Postgres with single verified map constraint

### Milestone 2.2: AI Queue & Notifications
- [ ] GPU inference workers (Demucs + transcription) behind job queue
- [ ] Job lifecycle states (`Queued`, `Processing`, `Complete`, `Failed`)
- [ ] Email/WebPush notification pipeline (SendGrid/Postmark + WebPush)
- [ ] Free-tier quota + pro upsell enforcement

### Milestone 2.3: Web Experience (Desktop & Mobile)
- [ ] Responsive drag-and-drop intake page with progress indicators
- [ ] Unverified/verified map detail views with playback preview
- [ ] Timeline-lite editor for fixes (snap, lane reassignment, comments)
- [ ] Progressive Web App shell for mobile usability

### Milestone 2.4: Karma & Verification System
- [ ] Karma ledger with fixer/verifier role thresholds
- [ ] Verification dashboard (queue, diff playback, decision logging)
- [ ] Incentive surfacing (perks, leaderboards, seasonal decay)
- [ ] Audit log + dispute workflow for contested decisions

### Milestone 2.5: Monetization Foundations
- [ ] Stripe subscription integration (Pro tier)
- [ ] Marketplace workflow for curated bundles
- [ ] Usage analytics (compute cost per user, conversion funnel tracking)

### Phase 2 Success Criteria
- [ ] Web users can resolve songs, request AI mapping when necessary, and access verified maps
- [ ] Karma-gated verifiers maintain map quality with measurable turnaround time (<72h median)
- [ ] GPU job queue stable with cost telemetry matching `docs/web_compute_costs.md`
- [ ] Subscription and bundle hooks operational (even if gated behind beta flag)

---

## üì± Phase 3: Mobile Apps

**Duration**: 3-4 months  
**Target**: iOS and Android apps  
**Status**: üî¥ Not Started

### Milestone 3.1: Flutter Setup
- [ ] Flutter project initialization
- [ ] Shared beatmap parser (FFI or pure Dart)
- [ ] UI framework adaptation
- [ ] Platform-specific integrations

### Milestone 3.2: Mobile Gameplay
- [ ] Touch-optimized controls
- [ ] Gameplay screen for mobile
- [ ] Audio playback (low-latency)
- [ ] Performance optimization
- [ ] Battery efficiency

### Milestone 3.3: Mobile Features
- [ ] Beatmap browser
- [ ] Download management
- [ ] Offline playback
- [ ] Cloud sync (scores, progress)

### Milestone 3.4: Deployment
- [ ] iOS App Store submission
- [ ] Google Play Store submission
- [ ] App Store Optimization (ASO)
- [ ] Marketing materials

### Phase 3 Success Criteria
- [ ] Apps available on both platforms
- [ ] Smooth gameplay (60 FPS)
- [ ] Share beatmap format with desktop
- [ ] 4+ star ratings

---

## üî• Phase 4: Advanced Features

**Duration**: 3-6 months  
**Target**: Real-time input, advanced AI  
**Status**: üî¥ Not Started

### Milestone 4.1: Real-Time Input
- [x] Microphone input processing
- [x] Low-latency onset detection
- [x] Real-time drum classification
- [x] Accuracy feedback
- [x] Score calculation
- [ ] Replay system

### Milestone 4.2: Advanced AI
- [ ] Transformer-based transcription
- [ ] Multi-instrument support
- [ ] Style transfer
- [ ] Difficulty adjustment
- [ ] Pattern generation

### Milestone 4.3: Sample Extraction
- [ ] Extract drum samples from songs
- [ ] Build custom drum kits
- [ ] Sample library management
- [ ] Community sample sharing

### Milestone 4.4: Distributed Training
- [ ] Training client app
- [ ] Task distribution system
- [ ] Result aggregation
- [ ] Contributor rewards

### Phase 4 Success Criteria
- [ ] Real-time mode is playable
- [ ] AI accuracy >90% on test set
- [ ] Users can create custom kits
- [ ] Training network is active

---

## üéØ Phase 5: Polish & Growth

**Duration**: Ongoing  
**Target**: Refinement and community building

### Milestone 5.1: User Experience
- [ ] Onboarding tutorial
- [ ] Accessibility features
- [x] Customization options (visual toggles, lane view)
- [ ] Themes and skins
- [ ] Localization (i18n)

### Milestone 5.2: Performance
- [ ] Profiling and optimization
- [ ] Memory usage reduction
- [ ] Startup time improvement
- [ ] Load time optimization

### Milestone 5.3: Advanced Features
- [ ] Practice mode (loops, slow-mo)
- [ ] Challenge mode
- [ ] Multiplayer (competitive)
- [ ] VR/AR support (experimental)
- [ ] MIDI device support

### Milestone 5.4: Community & Marketing
- [ ] Discord community
- [ ] YouTube tutorials
- [ ] Social media presence
- [ ] Partnerships with drumming educators
- [ ] Press releases

---

## üìä Key Metrics to Track

### Technical Metrics
- AI transcription accuracy (target: >90%)
- Gameplay latency (target: <10ms audio-visual sync)
- Frame rate (target: 60 FPS minimum, 240 FPS capable)
- Crash rate (target: <0.1%)
- API response time (target: <200ms)

### User Metrics
- Daily active users (DAU)
- Monthly active users (MAU)
- Beatmap creation rate
- Community beatmap quality scores
- Average session duration
- Retention rate (D1, D7, D30)

### Community Metrics
- GitHub stars
- Contributors
- Community beatmaps uploaded
- Discord members
- Social media followers

---

## üéì Learning Goals

Throughout this project, you'll learn:

1. **Game Development**
   - osu-framework architecture
   - Real-time rendering
   - Input handling and timing
   - Performance optimization

2. **Audio Processing**
   - Digital signal processing
   - Source separation (Demucs)
   - Onset detection
   - Feature extraction

3. **Machine Learning**
   - Supervised learning
   - Audio classification
   - Model training and evaluation
   - Deployment strategies

4. **Backend Development**
   - REST API design
   - Database modeling
   - Authentication
   - Scalability

5. **Mobile Development**
   - Flutter/Dart
   - Cross-platform optimization
   - App store deployment

6. **DevOps**
   - CI/CD pipelines
   - Containerization (Docker)
   - Cloud deployment
   - Monitoring and logging

---

## üîÆ Future Vision (2+ years)

- Multi-instrument support (bass, guitar, piano)
- AI-powered difficulty scaling
- Social features (friends, groups)
- Live multiplayer sessions
- VR drumming experience
- Educational partnerships
- Mobile rhythm game integration
- Integration with music streaming services (Spotify, Apple Music)
- AI music generation for practice

---

## ü§ù How to Contribute

See [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

**Priority Areas** (as of now):
1. Gameplay implementation
2. AI model training data collection
3. Editor UI/UX design
4. Documentation and tutorials
5. Testing and bug reports

---

## üìû Communication Channels

- **GitHub Issues**: Bug reports and feature requests
- **GitHub Discussions**: General questions and ideas
- **Discord**: Real-time community chat (placeholder)
- **Email**: beatsight@example.com (placeholder)

---

## üíñ Support the Project

- ‚≠ê Star the repository
- üêõ Report bugs
- üí° Suggest features
